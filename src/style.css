@import "tailwindcss";

/* ======================== */
/*      Base Components     */
/* ======================== */
@layer components {
    /* ======================== */
    /*      Layout Components   */
    /* ======================== */
    .main-content {
        @apply flex-1 pt-4 p-6;
    }
    .main-container {
        @apply max-w-full h-full;
    }

    /* ======================== */
    /*        Card Layout       */
    /* ======================== */
    .card {
        @apply bg-white rounded-lg shadow p-6 mb-6;
    }
    .card-header {
        @apply border-b pb-4 mb-4;
    }
    .card-title {
        @apply text-lg font-semibold text-gray-900;
    }
    .card-body {
        @apply space-y-4;
    }
    .card-footer {
        @apply border-t pt-4 mt-4;
        @apply p-3 bg-blue-50 rounded-lg text-sm text-blue-800;
    }

    /* ======================== */
    /*       Sidebar Styles     */
    /* ======================== */
    .sidebar-custom {
        @apply flex w-64 flex-col border-r bg-white p-6;
    }
    .sidebar-header {
        @apply mb-6;
    }
    .sidebar-nav {
        @apply flex flex-col gap-1;
    }
    .nav-link {
        @apply flex items-center gap-2 rounded-md px-3 py-2 text-sm text-gray-600
        hover:bg-gray-100 hover:text-gray-900 transition-colors;
    }
    .nav-link-active {
        @apply bg-indigo-50 text-indigo-600 font-semibold;
    }
    .nav-link-icon {
        @apply text-base;
    }
    .nav-link-label {
        @apply truncate;
    }
    .sidebar-footer {
        @apply mt-auto pt-4;
    }

    /* ======================== */
    /*       Header Styles      */
    /* ======================== */
    .header {
        @apply fixed top-0 left-0 right-0 z-50;
    }
    .header-container {
        @apply bg-white shadow-sm border-b border-gray-200;
    }
    .header-content {
        @apply h-16 flex items-center px-4 lg:px-8;
    }
    .header-logo {
        @apply flex items-center text-xl font-bold text-gray-900;
    }
    .header-nav {
        @apply hidden md:flex items-center space-x-1;
    }
    .header-nav-item {
        @apply px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors;
    }
    .header-nav-item-active {
        @apply bg-indigo-50 text-indigo-700;
    }
    .header-actions {
        @apply flex items-center space-x-4;
    }
    .header-button {
        @apply inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors;
    }
    .header-button-secondary {
        @apply inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors;
    }
    .header-avatar {
        @apply h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 font-medium cursor-pointer;
    }

    /* ======================== */
    /*       Footer Styles      */
    /* ======================== */
    .footer {
        @apply bg-white border-t border-gray-200 py-4 mt-auto;
    }
    .footer-container {
        @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
    }
    .footer-content {
        @apply flex flex-col md:flex-row justify-between items-center;
    }
    .footer-text {
        @apply text-sm text-gray-500;
    }
    .footer-links {
        @apply flex items-center space-x-4 mt-2 md:mt-0;
    }
    .footer-link {
        @apply text-sm text-gray-500 hover:text-gray-700;
    }
    .footer-divider {
        @apply text-gray-300;
    }

    /* ======================== */
    /*      Common Elements     */
    /* ======================== */
    .status-indicator {
        @apply inline-flex items-center text-xs text-gray-500 cursor-pointer;
    }

    /* ======================== */
    /*      Table Components    */
    /* ======================== */
    .table-container {
        @apply min-w-full text-sm;
    }

    .table-header {
        @apply bg-gray-50/80 backdrop-blur-sm text-xs font-semibold text-gray-600 uppercase tracking-wider border-b border-gray-200 sticky top-0 z-10;
    }

    .table-header-cell {
        @apply px-4 py-3 text-left transition-colors duration-200;
    }

    .table-header-sortable {
        @apply cursor-pointer select-none hover:bg-gray-100/80 hover:text-indigo-600;
    }

    .table-body {
        @apply divide-y divide-gray-100;
    }

    .table-row {
        @apply transition-all duration-200 hover:bg-indigo-50/30 hover:shadow-sm cursor-pointer;
    }

    .table-cell {
        @apply px-4 py-3 align-middle text-gray-700 font-medium;
    }

    .table-expand-icon {
        @apply text-center cursor-pointer;
    }

    /* 우선순위 태그 스타일 */
    .priority-tag {
        @apply inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium;
    }

    .priority-high {
        @apply bg-red-100 text-red-700;
    }

    .priority-medium {
        @apply bg-yellow-100 text-yellow-700;
    }

    .priority-low {
        @apply bg-green-100 text-green-700;
    }

    /* 상태 뱃지 스타일 */
    .status-badge {
        @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-medium transition-colors;
    }

    .status-approved {
        @apply bg-green-100 text-green-800 hover:bg-green-200;
    }

    .status-ai {
        @apply bg-blue-100 text-blue-800 hover:bg-blue-200;
    }

    .status-rejected {
        @apply bg-red-100 text-red-800 hover:bg-red-200;
    }

    /* 테이블 상세 뷰 스타일 */
    .table-detail-container {
        @apply p-1 pb-4;
    }

    .table-detail-content {
        @apply grid gap-4 rounded-md bg-gray-50 p-4 text-sm text-gray-700 md:grid-cols-3;
    }

    .table-detail-section {
        @apply space-y-1;
    }

    .table-detail-title {
        @apply text-xs font-semibold text-gray-500;
    }

    .table-steps-list {
        @apply list-decimal list-inside space-y-1;
    }
    /* ======================== */
    /*      Form Elements       */
    /* ======================== */
    .custom-checkbox {
        @apply shrink-0 w-5 h-5 rounded border flex items-center justify-center transition-colors;
    }

    .custom-checkbox-indigo {
        @apply bg-indigo-600 border-indigo-600;
    }

    .custom-checkbox-green {
        @apply bg-green-600 border-green-600;
    }

    .custom-checkbox-unchecked {
        @apply border-gray-300 bg-white;
    }

    .custom-toggle {
        @apply relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none cursor-pointer;
    }

    .custom-toggle-active {
        @apply bg-indigo-600;
    }

    .custom-toggle-inactive {
        @apply bg-gray-200;
    }

    .custom-toggle-circle {
        @apply inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform shadow-sm;
    }

    .custom-toggle-circle-on {
        @apply translate-x-4.5;
    }

    .custom-toggle-circle-off {
        @apply translate-x-1;
    }

    /* ======================== */
    /*        Buttons           */
    /* ======================== */
    .btn-primary {
        @apply inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
        @apply text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500 border border-transparent;
    }

    .btn-secondary {
        @apply inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
        @apply text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 focus:ring-indigo-500;
    }

    /* ======================== */
    /*      Loading Spinner     */
    /* ======================== */
    .loading-container {
        @apply flex flex-col items-center justify-center py-20;
    }
    .loading-spinner {
        @apply h-8 w-8 animate-spin rounded-full border-2 border-indigo-500 border-t-transparent;
    }
    .loading-text {
        @apply mt-4 text-sm text-gray-500;
    }

    /* ======================== */
    /*      Search Filter Bar   */
    /* ======================== */
    .filter-bar-container {
        @apply flex flex-col xl:flex-row gap-4 items-stretch xl:items-center bg-white p-4 rounded-lg border border-gray-200 shadow-sm;
    }
    .search-input-wrapper {
        @apply relative flex-1 min-w-[200px];
    }
    .search-icon {
        @apply absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400;
    }
    .search-input {
        @apply w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg text-sm focus:bg-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 placeholder-gray-500 transition-all text-gray-800;
    }
    /* Updated: wrapper handles flex distribution */
    .project-select-wrapper {
        @apply hidden md:flex items-center gap-2 shrink-0;
    }
    /* Updated: Common select style for Project & History */
    .project-select {
        @apply h-[42px] px-3 pr-8 text-sm border-gray-300 rounded-lg focus:border-indigo-500 focus:ring-indigo-500 bg-white shadow-sm cursor-pointer hover:bg-gray-50 transition-colors bg-none w-[200px] xl:w-60;
        /* Custom arrow background could be added here if needed, but browser default is okay for MVP */
    }
    .filter-divider {
        @apply h-6 w-px bg-gray-300 mx-2 hidden xl:block;
    }
    .filter-button-wrapper {
        @apply relative shrink-0;
    }
    .filter-button {
        @apply flex items-center justify-center gap-2 px-4 py-2.5 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 text-gray-700 transition-colors shadow-sm h-[42px] whitespace-nowrap;
    }
    .filter-button-active {
        @apply bg-indigo-50 border-indigo-200 text-indigo-700;
    }
    .filter-popup {
        @apply absolute right-0 top-full mt-2 w-72 md:w-80 bg-white rounded-lg shadow-xl border border-gray-100 z-50 p-4;
    }
    .filter-popup-header {
        @apply flex justify-between items-center mb-4 border-b border-gray-100 pb-2;
    }
    .filter-reset-btn {
        @apply text-xs text-indigo-600 hover:text-indigo-800 font-medium;
    }
    .filter-content-area {
        @apply space-y-4 max-h-[60vh] overflow-y-auto;
    }
    .filter-overlay {
        @apply fixed inset-0 z-40 bg-transparent;
    }

    /* ======================== */
    /*        Base Alert        */
    /* ======================== */
    .alert-overlay {
        @apply fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity;
    }
    .alert-container {
        @apply bg-white rounded-xl shadow-2xl w-full max-w-sm mx-4 transform transition-all scale-100 opacity-100;
    }
    .alert-header {
        @apply px-6 py-4 border-b border-gray-100;
    }
    .alert-title {
        @apply text-lg font-bold text-gray-800;
    }
    .alert-body {
        @apply px-6 py-6;
    }
    .alert-message {
        @apply text-gray-600 text-base leading-relaxed whitespace-pre-line;
    }
    .alert-footer {
        @apply px-6 py-4 bg-gray-50 rounded-b-xl flex justify-end gap-3;
    }
    .btn-alert-cancel {
        @apply px-5 py-2.5 bg-white text-gray-700 text-sm font-semibold rounded-lg border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-200 transition-colors shadow-sm;
    }
    .btn-alert-confirm {
        @apply px-5 py-2.5 bg-blue-600 text-white text-sm font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors shadow-sm;
    }
}
